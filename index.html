<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>771 시그니처 리스트</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Google Fonts에서 'Noto Sans KR' 폰트 가져오기 */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');

        :root {
            --bg-color: #f4f7f9;
            --container-bg: #ffffff;
            --text-color: #2c3e50;
            --subtext-color: #576574;
            --border-color: #dfe6e9;
            --shadow-color: rgba(0, 0, 0, 0.08);
            --header-bg: #f8f9fa;
            --card-bg: #ffffff;
            --card-border: #f1f3f5;
            --card-shadow: rgba(0,0,0,0.05);
            --card-hover-shadow: rgba(0,0,0,0.1);
        }

        body.dark-mode {
            --bg-color: #1a1a1a;
            --container-bg: #2c2c2c;
            --text-color: #ecf0f1;
            --subtext-color: #bdc3c7;
            --border-color: #4a4a4a;
            --shadow-color: rgba(0, 0, 0, 0.4);
            --header-bg: #3a3a3a;
            --card-bg: #333333;
            --card-border: #4a4a4a;
            --card-shadow: rgba(0,0,0,0.2);
            --card-hover-shadow: rgba(0,0,0,0.3);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: flex-start; /* 상단 정렬 */
            min-height: 100vh;
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            background-color: var(--container-bg);
            padding: 40px;
            border-radius: 24px;
            box-shadow: 0 10px 40px var(--shadow-color);
            width: 90%;
            max-width: 700px;
            text-align: center;
            position: relative;
            transition: background-color 0.3s;
        }

        .header-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap; /* 모바일에서 줄바꿈을 위해 추가 */
        }
        
        .top-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* 다크모드 토글 스위치 */
        .theme-switch-wrapper { display: flex; align-items: center; }
        .theme-switch { display: inline-block; height: 24px; position: relative; width: 44px; }
        .theme-switch input { display:none; }
        .slider { background-color: #ccc; bottom: 0; cursor: pointer; left: 0; position: absolute; right: 0; top: 0; transition: .4s; }
        .slider:before { background-color: #fff; bottom: 4px; content: ""; height: 16px; left: 4px; position: absolute; transition: .4s; width: 16px; }
        input:checked + .slider { background-color: #2196F3; }
        input:checked + .slider:before { transform: translateX(20px); }
        .slider.round { border-radius: 34px; }
        .slider.round:before { border-radius: 50%; }

        /* 뷰 전환 버튼 */
        #view-toggle { background: none; border: none; color: var(--subtext-color); cursor: pointer; font-size: 1.2em; }

        h1 {
            color: var(--text-color);
            font-size: 2.2em;
            font-weight: 700;
            margin: 0;
        }

        .controls-wrapper {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 25px;
        }

        .filter-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .filter-title {
            font-size: 1em;
            font-weight: 500;
            color: var(--subtext-color);
            margin-bottom: 10px;
            border-top: 1px solid var(--border-color);
            padding-top: 20px;
        }

        .filter-btn {
            padding: 8px 18px;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            background-color: var(--container-bg);
            color: var(--subtext-color);
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.2s ease-in-out;
        }

        .filter-btn:hover {
            background-color: var(--bg-color);
            border-color: #c8d6e5;
        }

        .filter-btn.active {
            background-color: #34495e;
            color: white;
            border-color: #34495e;
        }
        
        .search-wrapper { position: relative; margin-bottom: 15px; }

        #search-input {
            width: 100%;
            padding: 14px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 1em;
            font-family: 'Noto Sans KR', sans-serif;
            transition: border-color 0.2s;
            background-color: var(--bg-color);
            color: var(--text-color);
        }
        #search-input:focus { border-color: #54a0ff; outline: none; }

        .list-container { position: relative; }

        #list-header {
            display: flex;
            justify-content: space-between;
            padding: 10px 18px;
            background-color: var(--header-bg);
            border-bottom: 2px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .list-container.card-view-active #list-header { display: none; }

        #list-header .header-price { font-weight: 700; color: var(--text-color); flex-basis: 100px; text-align: left; cursor: pointer; user-select: none; }
        #list-header .header-name { font-weight: 700; color: var(--text-color); flex-grow: 1; text-align: left; }

        #dance-list { 
            list-style-type: none; 
            text-align: left; 
            max-height: 55vh;
            overflow-y: auto;
            padding: 5px;
        }
        #dance-list::-webkit-scrollbar { width: 14px; }
        #dance-list::-webkit-scrollbar-track { background: transparent; }
        #dance-list::-webkit-scrollbar-thumb { background: #bdc3c7; border-radius: 10px; border: 4px solid var(--container-bg); }
        #dance-list::-webkit-scrollbar-thumb:hover { background: #95a5a6; }

        #dance-list li {
            background-color: var(--card-bg);
            padding: 14px 18px;
            margin-top: 8px;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.1em;
            transition: all 0.2s ease-in-out;
            border: 1px solid var(--card-border);
        }
        #dance-list li:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px var(--card-hover-shadow);
        }

        .dance-info { display: flex; align-items: center; flex-grow: 1; text-align: left; }
        .dance-info .price { font-weight: bold; flex-basis: 100px; text-align: left; margin-right: 10px; }
        .dance-info .name { font-weight: 700; color: var(--text-color); flex-grow: 1; }

        /* 가격대별 색상 */
        .price-tier-1 .price { color: #27ae60; } /* ~999 */
        .price-tier-2 .price { color: #2980b9; } /* 1000 ~ 4999 */
        .price-tier-3 .price { color: #d35400; } /* 5000 ~ 9999 */
        .price-tier-4 .price { color: #c0392b; } /* 10000 ~ */
        .price-tier-5 .price { color: #8e44ad; } /* 100000 ~ */

        /* 카드 뷰 스타일 */
        .list-container.card-view-active #dance-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }
        .list-container.card-view-active #dance-list li {
            flex-direction: column;
            align-items: flex-start;
            padding: 15px;
        }
        .list-container.card-view-active #dance-list .dance-info {
            flex-direction: column;
            align-items: flex-start;
            width: 100%;
        }
        .list-container.card-view-active #dance-list .dance-info .price {
            font-size: 1.1em;
            margin-bottom: 5px;
        }
        .list-container.card-view-active #dance-list .dance-info .name {
            font-size: 0.9em;
        }
        .list-container.card-view-active ~ #item-count {
            margin-top: 10px;
        }

        #item-count {
            margin-top: 20px;
            color: var(--subtext-color);
            font-size: 0.9em;
            text-align: right;
        }

        @media (max-width: 700px) {
            body { padding: 10px; }
            .container { padding: 20px; }
            .header-section {
                flex-direction: column;
                gap: 20px;
                align-items: center;
            }
            .top-controls {
                order: -1; /* 모바일에서 위로 올림 */
            }
            h1 { font-size: 1.8em; text-align: center; width: 100%;}
            .filter-btn { padding: 6px 12px; font-size: 0.8em; }
            #dance-list li { padding: 10px 15px; font-size: 1em; }
            #list-header .header-price, .dance-info .price { flex-basis: 80px; }
            .list-container.card-view-active #dance-list {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-section">
            <h1>771 시그니처 리스트</h1>
            <div class="top-controls">
                <button id="view-toggle" title="보기 전환"><i class="fas fa-list"></i></button>
                <div class="theme-switch-wrapper">
                    <label class="theme-switch" for="checkbox">
                        <input type="checkbox" id="checkbox" />
                        <div class="slider round"></div>
                    </label>
                </div>
            </div>
        </div>
        
        <div class="controls-wrapper">
            <div id="filter-buttons" class="filter-group">
                <button class="filter-btn active" data-min="0" data-max="Infinity">전체</button>
                <button class="filter-btn" data-min="1" data-max="999">~ 999개</button>
                <button class="filter-btn" data-min="1000" data-max="4999">1000 ~ 4999개</button>
                <button class="filter-btn" data-min="5000" data-max="9999">5000 ~ 9999개</button>
                <button class="filter-btn" data-min="10000" data-max="Infinity">10000개 ~</button>
            </div>
            <div class="filter-title">개인시그</div>
             <div id="personal-filter-buttons" class="filter-group">
                 <!-- 개인 필터 버튼이 여기에 동적으로 추가됩니다. -->
             </div>
        </div>
        
        <div class="search-wrapper">
            <input type="text" id="search-input" placeholder="시그 이름 또는 단가로 검색...">
        </div>
        
        <div class="list-container">
            <div id="list-header">
                <div class="header-price" id="sort-header">단가 <span id="sort-indicator"></span></div>
                <div class="header-name">시그 이름</div>
            </div>
            <ul id="dance-list"></ul>
        </div>
        <div id="item-count"></div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('search-input');
            const danceList = document.getElementById('dance-list');
            const listContainer = document.querySelector('.list-container');
            const filterButtonsContainer = document.getElementById('filter-buttons');
            const personalFilterButtonsContainer = document.getElementById('personal-filter-buttons');
            const sortHeader = document.getElementById('sort-header');
            const sortIndicator = document.getElementById('sort-indicator');
            const itemCountElement = document.getElementById('item-count');
            const themeSwitch = document.getElementById('checkbox');
            const viewToggle = document.getElementById('view-toggle');
            
            let currentPriceFilter = { min: 0, max: Infinity };
            let currentPersonalFilter = '전체';
            let currentSort = 'none'; // 'none', 'asc', 'desc'

            // --- 데이터 관리 영역 ---
            const defaultPeople = [ '채보미', '예란', '미래', '푸글리', '파닥', '짐광환', '한여름', '이리원', '촉촉꼬앙', '이아린', '김그루', '김대봉', '기타' ];
            const defaultDances = [
                { name: '함사울래', price: 771, person: '기타' }, { name: '햄토리', price: 852, person: '기타' }, { name: '오로나민씨', price: 940, person: '기타' }, { name: '괜찮아딩딩딩', price: 945, person: '기타' }, { name: '진짜배기', price: 988, person: '기타' }, { name: '비둘기', price: 999, person: '기타' }, { name: '훈두렁1', price: 1000, person: '기타' }, { name: '납작가슴', price: 1001, person: '기타' }, { name: '실루엣', price: 1002, person: '기타' }, { name: '솜사탕', price: 1003, person: '기타' }, { name: '슈퍼그럼요', price: 1005, person: '기타' }, { name: '탕탕탕', price: 1008, person: '기타' }, { name: '역도', price: 1009, person: '기타' }, { name: '미룬이', price: 1010, person: '기타' }, { name: '진압해', price: 1011, person: '기타' }, { name: '피리아웃송', price: 1012, person: '기타' }, { name: '이라이라', price: 1025, person: '기타' }, { name: '모찌송', price: 1052, person: '기타' }, { name: '삐끼삐끼', price: 1080, person: '기타' }, { name: '허리업', price: 1082, person: '기타' }, { name: '미래베어', price: 1087, person: '미래' }, { name: '썸뾱단', price: 1088, person: '한여름' }, { name: '첫만남', price: 1102, person: '기타' }, { name: '못말리는아가씨', price: 1111, person: '기타' }, { name: '바빠', price: 1115, person: '기타' }, { name: '컴투미', price: 1122, person: '기타' }, { name: '버터플라이', price: 1142, person: '기타' }, { name: '말해줘요', price: 1152, person: '기타' }, { name: '러브쉐이크', price: 1182, person: '기타' }, { name: '헤비머신건', price: 1212, person: '기타' }, { name: '레디올낫', price: 1252, person: '기타' }, { name: '이즈나 IZNA', price: 1279, person: '기타' }, { name: '핫해', price: 1288, person: '기타' }, { name: '테디베어', price: 1295, person: '기타' }, { name: '골반댄스', price: 1297, person: '기타' }, { name: '겐또', price: 1298, person: '기타' }, { name: '카리나닮았대', price: 1299, person: '기타' }, { name: '탕후루', price: 1300, person: '기타' }, { name: '바람피면D지는거야', price: 1310, person: '기타' }, { name: '할말이없네', price: 1313, person: '기타' }, { name: '푱푱', price: 1350, person: '기타' }, { name: '포켓몬', price: 1360, person: '기타' }, { name: '룩앳미', price: 1370, person: '기타' }, { name: '폼미쳤다', price: 1400, person: '기타' }, { name: 'KTwiz 아웃송', price: 1412, person: '기타' }, { name: 'Shhhh', price: 1425, person: '기타' }, { name: '슈퍼슈퍼해', price: 1444, person: '기타' }, { name: '홀드업', price: 1450, person: '기타' }, { name: '봄뾱단', price: 1452, person: '채보미' }, { name: '오늘만 I love you', price: 1486, person: '기타' }, { name: '미뾱단', price: 1487, person: '미래' }, { name: '왜요왜요', price: 1500, person: '기타' }, { name: '사랑받을준비완료', price: 1520, person: '기타' }, { name: '란뾱이', price: 1524, person: '예란' }, { name: '벌룬인럽', price: 1550, person: '기타' }, { name: 'Change', price: 1555, person: '기타' }, { name: '나랑사귈래', price: 1570, person: '기타' }, { name: '마그네틱', price: 1580, person: '기타' }, { name: '사랑스러워', price: 1599, person: '기타' }, { name: 'Apt', price: 1600, person: '기타' }, { name: '아마겟돈', price: 1650, person: '기타' }, { name: '오빠달려붕붕', price: 1665, person: '기타' }, { name: '기훈업(호영레이블)', price: 1666, person: '기타' }, { name: '여르미텐겐', price: 1688, person: '한여름' }, { name: '짠쿵쾅', price: 1700, person: '기타' }, { name: '이머전시', price: 1705, person: '기타' }, { name: '외모체크', price: 1717, person: '기타' }, { name: '클락션', price: 1750, person: '기타' }, { name: '돈터치', price: 1771, person: '기타' }, { name: '미드차이', price: 1772, person: '기타' }, { name: '꽃게춤', price: 1777, person: '기타' }, { name: '스트로베리러쉬', price: 1800, person: '기타' }, { name: '우치다', price: 1802, person: '기타' }, { name: '퉁퉁퉁사후르', price: 1805, person: '기타' }, { name: '날라리', price: 1818, person: '기타' }, { name: '나이스바디', price: 1820, person: '기타' }, { name: '아리원', price: 1821, person: '이리원' }, { name: '옴브리뉴', price: 1850, person: '기타' }, { name: '너뿐이야', price: 1852, person: '기타' }, { name: '수파도파', price: 1888, person: '기타' }, { name: '쌔끈빠끈해', price: 1900, person: '기타' }, { name: '푸른산호초', price: 1919, person: '기타' }, { name: '포켓로켓', price: 1925, person: '기타' }, { name: '슈퍼스타', price: 1950, person: '기타' }, { name: '찔려', price: 1972, person: '기타' }, { name: '첫눈', price: 1980, person: '기타' }, { name: '청바지', price: 1999, person: '기타' }, { name: '훈두렁', price: 2000, person: '기타' }, { name: '빛을따라서', price: 2002, person: '기타' }, { name: '투배드', price: 2004, person: '기타' }, { name: '킥드베', price: 2005, person: '기타' }, { name: '체온', price: 2008, person: '기타' }, { name: '붐붐베이스', price: 2010, person: '기타' }, { name: 'Outta my mind', price: 2025, person: '이아린' }, { name: '몸', price: 2030, person: '기타' }, { name: '바니바니', price: 2050, person: '기타' }, { name: '팬서비스', price: 2060, person: '기타' }, { name: '나니가스키', price: 2070, person: '기타' }, { name: '내이름 맑음', price: 2080, person: '기타' }, { name: '키딩', price: 2099, person: '기타' }, { name: '슈퍼소닉', price: 2100, person: '기타' }, { name: '나루토', price: 2111, person: '기타' }, { name: '아로아로', price: 2152, person: '기타' }, { name: '이 xxx야', price: 2180, person: '기타' }, { name: '최애의 아이', price: 2200, person: '기타' }, { name: '사쿠란보', price: 2201, person: '기타' }, { name: '제로투', price: 2222, person: '기타' }, { name: '바우치', price: 2223, person: '기타' }, { name: '요괴란', price: 2224, person: '예란' }, { name: '네모네모', price: 2225, person: '기타' }, { name: '사뿐사뿐', price: 2226, person: '기타' }, { name: '드립', price: 2300, person: '기타' }, { name: '할것', price: 2333, person: '기타' }, { name: '언홀리', price: 2345, person: '짐광환' }, { name: '고민중독', price: 2350, person: '기타' }, { name: '떡춤', price: 2400, person: '기타' }, { name: '콩콩이', price: 2401, person: '기타' }, { name: '테크토닉', price: 2402, person: '기타' }, { name: '더기춤', price: 2403, person: '기타' }, { name: '04년생 클럽춤', price: 2404, person: '기타' }, { name: '내귀에캔디', price: 2424, person: '기타' }, { name: '틱탁', price: 2444, person: '기타' }, { name: 'Up', price: 2450, person: '기타' }, { name: '대봉 응원가', price: 2452, person: '김대봉' }, { name: '파닥 응원가', price: 2484, person: '파닥' }, { name: '핑크 레이디', price: 2500, person: '기타' }, { name: '멋쟁이 토마토', price: 2505, person: '기타' }, { name: '소다팝', price: 2548, person: '기타' }, { name: '오빠 바이러스', price: 2550, person: '기타' }, { name: 'Work', price: 2555, person: '기타' }, { name: '자기야 화풀어', price: 2558, person: '기타' }, { name: '위플래쉬', price: 2600, person: '기타' }, { name: '우유', price: 2626, person: '기타' }, { name: '너와의 모든지금', price: 2670, person: '기타' }, { name: '만트라', price: 2700, person: '기타' }, { name: '여우', price: 2727, person: '기타' }, { name: '흔들어!', price: 2771, person: '기타' }, { name: '매니악', price: 2777, person: '기타' }, { name: '미친짐광', price: 2779, person: '짐광환' }, { name: '바디바디', price: 2800, person: '기타' }, { name: '이쁜아린', price: 2802, person: '이아린' }, { name: '천사소개', price: 2804, person: '기타' }, { name: '공주들은 원래그래', price: 2820, person: '기타' }, { name: '이리원이리온', price: 2821, person: '이리원' }, { name: '간바레센빠이', price: 2828, person: '기타' }, { name: '보미 온다면', price: 2852, person: '채보미' }, { name: '미래 응원가', price: 2887, person: '미래' }, { name: 'Like you', price: 2888, person: '기타' }, { name: '글리 응원가', price: 2892, person: '푸글리' }, { name: '미야오', price: 2900, person: '기타' }, { name: '화사 Na', price: 2950, person: '기타' }, { name: '두고 보닥', price: 2984, person: '파닥' }, { name: '코카인', price: 2992, person: '기타' }, { name: '훈두렁 3', price: 3000, person: '기타' }, { name: 'EDM', price: 3003, person: '기타' }, { name: 'Wicked', price: 3025, person: '기타' }, { name: 'GGUM', price: 3030, person: '기타' }, { name: 'Not Like Us', price: 3066, person: '기타' }, { name: '이리오너라', price: 3084, person: '파닥' }, { name: '미래의호흡', price: 3087, person: '미래' }, { name: 'Go 꼬앙', price: 3092, person: '촉촉꼬앙' }, { name: '손떼!!', price: 3111, person: '기타' }, { name: '예란 응원가', price: 3124, person: '예란' }, { name: '버러지송', price: 3180, person: '기타' }, { name: 'LSD', price: 3222, person: '기타' }, { name: 'Summer Aria', price: 3288, person: '한여름' }, { name: '밤을 달리다', price: 3300, person: '기타' }, { name: '이아린업', price: 3302, person: '이아린' }, { name: '섹시글리', price: 3392, person: '푸글리' }, { name: '그대에게 한마디', price: 3500, person: '기타' }, { name: '이쿠욧', price: 3555, person: '기타' }, { name: '알려줄게', price: 3669, person: '기타' }, { name: '아헤가오', price: 3777, person: '기타' }, { name: '빠라뉴', price: 3888, person: '기타' }, { name: '터미널', price: 3892, person: '기타' }, { name: '섹시 빠빠빠', price: 3988, person: '기타' }, { name: '훈두렁 4', price: 4000, person: '기타' }, { name: 'Angel', price: 4001, person: '기타' }, { name: '린플단 너와나사이', price: 4202, person: '이아린' }, { name: 'Levitating', price: 4400, person: '기타' }, { name: '완전히 살아있네', price: 4444, person: '기타' }, { name: '미플단업', price: 4487, person: '미래' }, { name: '따보던지', price: 4848, person: '기타' }, { name: '파닥 신호탄', price: 4884, person: '파닥' }, { name: 'RARARA', price: 4892, person: '기타' }, { name: '최악의세대', price: 5000, person: '기타' }, { name: '헤이미키', price: 5050, person: '기타' }, { name: '예란 신호탄', price: 5124, person: '예란' }, { name: '대봉신호탄', price: 5252, person: '김대봉' }, { name: '보미차이', price: 5272, person: '채보미' }, { name: '우리짐광', price: 5279, person: '짐광환' }, { name: '미래가 미래다', price: 5287, person: '미래' }, { name: '썸신호탄', price: 5288, person: '한여름' }, { name: '아린 신호탄', price: 5502, person: '이아린' }, { name: 'Beggin', price: 5555, person: '기타' }, { name: '글리 신호탄', price: 5792, person: '푸글리' }, { name: '닥이 좀보자', price: 5884, person: '파닥' }, { name: '사쿠라', price: 5959, person: '기타' }, { name: '호세쿠엘보', price: 6000, person: '기타' }, { name: '슬램덩크', price: 6666, person: '기타' }, { name: 'Ashes', price: 6767, person: '기타' }, { name: '캐리비안의 해적', price: 6868, person: '기타' }, { name: '문라이트', price: 6969, person: '기타' }, { name: 'Got It', price: 6974, person: '기타' }, { name: '훈두렁 7', price: 7000, person: '기타' }, { name: '채봄미워', price: 7525, person: '채보미' }, { name: '귀환', price: 7575, person: '기타' }, { name: 'Killer', price: 7666, person: '기타' }, { name: '쇼타임', price: 7777, person: '기타' }, { name: '거짓말', price: 8000, person: '기타' }, { name: '이게바로 멋인기라', price: 8337, person: '기타' }, { name: '살아있네 살아있어', price: 8484, person: '기타' }, { name: '미래 더 알고싶어', price: 8787, person: '미래' }, { name: '빠빠빠', price: 8888, person: '기타' }, { name: '레전드 네버다이', price: 9000, person: '기타' }, { name: '계엄령', price: 9500, person: '기타' }, { name: '파이널 러브송', price: 9820, person: '기타' }, { name: '슈퍼 비둘기', price: 9999, person: '기타' }, { name: 'MVP', price: 10000, person: '기타' }, { name: '질풍가도', price: 10002, person: '기타' }, { name: '사케사랑', price: 10004, person: '기타' }, { name: 'Where you are', price: 10010, person: '기타' }, { name: 'Devil', price: 10013, person: '기타' }, { name: '홍길동', price: 10020, person: '기타' }, { name: '슈퍼란플단', price: 10024, person: '예란' }, { name: 'Ak47', price: 10047, person: '기타' }, { name: 'Thumb', price: 10052, person: '채보미' }, { name: 'V6_melody', price: 10066, person: '기타' }, { name: 'The', price: 10071, person: '기타' }, { name: '하누 HANU', price: 10082, person: '기타' }, { name: '파닥몬 진화', price: 10084, person: '파닥' }, { name: '보미안의88', price: 10088, person: '기타' }, { name: '만개화', price: 10099, person: '기타' }, { name: 'You are my Hero', price: 10105, person: '채보미' }, { name: '동쟈스님', price: 10108, person: '기타' }, { name: '공돌2당', price: 10202, person: '기타' }, { name: 'Dodododod', price: 10505, person: '기타' }, { name: '대치동', price: 10609, person: '기타' }, { name: '땡기우기', price: 10707, person: '기타' }, { name: '찌노롱UP', price: 10756, person: '기타' }, { name: '만끼', price: 10771, person: '기타' }, { name: '지져스', price: 10774, person: '기타' }, { name: 'Carrera.', price: 10911, person: '기타' }, { name: 'Heaven', price: 11004, person: '기타' }, { name: 'Atmosphere', price: 11111, person: '기타' }, { name: '강강수월래', price: 11187, person: '기타' }, { name: '짐멘의 외침', price: 11900, person: '짐광환' }, { name: '도파민', price: 11582, person: '기타' }, { name: '슈퍼 썸플단', price: 12088, person: '한여름' }, { name: 'Hands Up', price: 12121, person: '기타' }, { name: '심장을 바쳐라', price: 12171, person: '기타' }, { name: '슈퍼 원플단', price: 12221, person: '이리원' }, { name: '시그니엘', price: 12223, person: '기타' }, { name: 'Ass Up', price: 12250, person: '기타' }, { name: '안녕하세욥@', price: 12345, person: '기타' }, { name: '슈퍼봄플단', price: 12452, person: '채보미' }, { name: '발견사운드', price: 12484, person: '기타' }, { name: 'Heart', price: 12486, person: '기타' }, { name: '슈퍼 푸글리', price: 12492, person: '푸글리' }, { name: '레부엘토마토', price: 12505, person: '기타' }, { name: '아뜨거탱탱이', price: 12525, person: '기타' }, { name: '어흥~!@', price: 12550, person: '기타' }, { name: '함마형!', price: 12588, person: '기타' }, { name: 'Cjyo', price: 12745, person: '기타' }, { name: '슈퍼 짐플단', price: 12779, person: '짐광환' }, { name: 'Ignite', price: 13333, person: '기타' }, { name: '슈퍼 린플단', price: 14202, person: '이아린' }, { name: '행복만해란', price: 14240, person: '예란' }, { name: '슈퍼 닥플단', price: 14484, person: '파닥' }, { name: '슈퍼 미플단', price: 14487, person: '미래' }, { name: 'Wolves', price: 14771, person: '기타' }, { name: '마티니', price: 15000, person: '기타' }, { name: 'Dangerous', price: 16666, person: '기타' }, { name: '고죠사토루', price: 17459, person: '기타' }, { name: '#까치', price: 17777, person: '기타' }, { name: '프로산게장', price: 18530, person: '기타' }, { name: 'VIP', price: 20000, person: '기타' }, { name: '이만 끼', price: 20771, person: '기타' }, { name: '할렐루야', price: 20774, person: '기타' }, { name: '채플단 Never Die', price: 22222, person: '채보미' }, { name: 'Chocoping', price: 25555, person: '기타' }, { name: '귀멸의 칼날', price: 27771, person: '기타' }, { name: '큰 까치', price: 27777, person: '기타' }, { name: '미래핵펀치', price: 28787, person: '미래' }, { name: '큰 레부엘토마토', price: 29999, person: '기타' }, { name: 'VVIP', price: 30000, person: '기타' }, { name: 'Legendary', price: 100000, person: '기타' }, { name: 'Stronger', price: 200000, person: '기타' }, { name: 'GOD', price: 300000, person: '기타' }, { name: '그루 뾱단', price: 1498, person: '김그루' }, { name: '그루 응원가', price: 2898, person: '김그루' }, { name: '그루 신호탄', price: 5898, person: '김그루' }, { name: 'Xeross', price: 10130, person: '기타' }, { name: 'Soundbox', price: 10804, person: '기타' },
                 { name: '이리원 신호탄', price: 5221, person: '이리원' }
            ];

            let dances = [...defaultDances];
            let originalDances = [...defaultDances];
            
            // 개인 필터 버튼 생성
            function createPersonalFilterButtons() {
                const people = [...defaultPeople];
                
                personalFilterButtonsContainer.innerHTML = '<button class="filter-btn active" data-filter="전체">전체</button>';
                people.forEach(person => {
                    if (person === '기타') return;
                    // 해당 멤버의 시그가 하나라도 있는지 확인
                    const hasSigs = defaultDances.some(dance => dance.person === person);
                    if (hasSigs) {
                        const button = document.createElement('button');
                        button.className = 'filter-btn';
                        button.dataset.filter = person;
                        button.textContent = person;
                        personalFilterButtonsContainer.appendChild(button);
                    }
                });
            }

            // 목록 렌더링 함수
            const renderDances = (dancesToRender) => {
                danceList.innerHTML = '';
                dancesToRender.forEach((dance) => {
                    const li = document.createElement('li');
                    if (dance.price >= 100000) li.classList.add('price-tier-5');
                    else if (dance.price >= 10000) li.classList.add('price-tier-4');
                    else if (dance.price >= 5000) li.classList.add('price-tier-3');
                    else if (dance.price >= 1000) li.classList.add('price-tier-2');
                    else li.classList.add('price-tier-1');
                    const danceInfo = document.createElement('div');
                    danceInfo.className = 'dance-info';
                    const priceSpan = document.createElement('span');
                    priceSpan.className = 'price';
                    priceSpan.textContent = `${dance.price.toLocaleString('ko-KR')}개`;
                    const nameSpan = document.createElement('span');
                    nameSpan.className = 'name';
                    nameSpan.textContent = dance.name;
                    danceInfo.appendChild(priceSpan);
                    danceInfo.appendChild(nameSpan);
                    li.appendChild(danceInfo);
                    danceList.appendChild(li);
                });
                itemCountElement.textContent = `총 ${dancesToRender.length}개의 시그가 있습니다.`;
            };

            // 검색, 필터링, 정렬 함수
            const filterAndRender = () => {
                const searchTerm = searchInput.value.trim().toLowerCase();
                let filteredDances = [...dances];

                // 1. 개인 필터 적용
                if (currentPersonalFilter !== '전체') {
                    filteredDances = filteredDances.filter(dance => dance.person === currentPersonalFilter);
                }

                // 2. 가격 범위 필터 적용
                filteredDances = filteredDances.filter(dance => 
                    dance.price >= currentPriceFilter.min && dance.price <= currentPriceFilter.max
                );

                // 3. 검색어 필터 적용
                if (searchTerm) {
                    filteredDances = filteredDances.filter(dance => 
                        dance.name.toLowerCase().includes(searchTerm) || String(dance.price).includes(searchTerm)
                    );
                }
                
                // 4. 정렬 적용
                if (currentSort === 'asc') {
                    filteredDances.sort((a, b) => a.price - b.price);
                } else if (currentSort === 'desc') {
                    filteredDances.sort((a, b) => b.price - a.price);
                } else {
                    const originalOrderMap = new Map(originalDances.map((dance, index) => [dance.name + dance.price, index]));
                    filteredDances.sort((a, b) => (originalOrderMap.get(a.name + a.price) || 0) - (originalOrderMap.get(b.name + b.price) || 0));
                }
                renderDances(filteredDances);
            };
            
            // 이벤트 리스너
            filterButtonsContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('filter-btn')) {
                    filterButtonsContainer.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                    currentPriceFilter.min = parseFloat(e.target.dataset.min);
                    currentPriceFilter.max = parseFloat(e.target.dataset.max);
                    filterAndRender();
                }
            });

            personalFilterButtonsContainer.addEventListener('click', (e) => {
                const btn = e.target;
                if (btn.classList.contains('filter-btn')) {
                    if (btn.classList.contains('active')) {
                        btn.classList.remove('active');
                        currentPersonalFilter = '전체';
                        personalFilterButtonsContainer.querySelector('[data-filter="전체"]').classList.add('active');
                    } else {
                        personalFilterButtonsContainer.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        currentPersonalFilter = btn.dataset.filter;
                    }
                    filterAndRender();
                }
            });

            sortHeader.addEventListener('click', () => {
                if (currentSort === 'none') currentSort = 'asc';
                else if (currentSort === 'asc') currentSort = 'desc';
                else currentSort = 'none';
                sortIndicator.textContent = currentSort === 'asc' ? '▲' : currentSort === 'desc' ? '▼' : '';
                filterAndRender();
            });

            searchInput.addEventListener('input', filterAndRender);
            
            themeSwitch.addEventListener('change', (e) => {
                document.body.classList.toggle('dark-mode', e.target.checked);
            });

            viewToggle.addEventListener('click', () => {
                listContainer.classList.toggle('card-view-active');
                const isCardView = listContainer.classList.contains('card-view-active');
                viewToggle.innerHTML = isCardView ? '<i class="fas fa-th-large"></i>' : '<i class="fas fa-list"></i>';
            });

            // 초기화
            createPersonalFilterButtons();
            filterAndRender();
        });
    </script>
</body>
</html>
